<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<link rel="manifest" href="manifest.json" />
<!-- ios support -->
<link rel="apple-touch-icon" href="images/icons/icon-72x72.png" />
<link rel="apple-touch-icon" href="images/icons/icon-96x96.png" />
<link rel="apple-touch-icon" href="images/icons/icon-128x128.png" />
<link rel="apple-touch-icon" href="images/icons/icon-144x144.png" />
<link rel="apple-touch-icon" href="images/icons/icon-152x152.png" />
<link rel="apple-touch-icon" href="images/icons/icon-192x192.png" />
<link rel="apple-touch-icon" href="images/icons/icon-384x384.png" />
<link rel="apple-touch-icon" href="images/icons/icon-512x512.png" />
<meta name="apple-mobile-web-app-status-bar" content="#db4938" />
<meta name="theme-color" content="#db4938" />
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
 
</head>
<body>
    <div class="container">
        
        <div class="input-group mb-5 mt-5">
            <input type="text" class="form-control" id="tags" placeholder="Enter your location here" aria-label="Recipient's username" aria-describedby="basic-addon2">
            
        </div>
        <div class="row">
            <div class="col-md-6" id="room-instruct">
              <div>
                <h3>Room Instruction</h3>
              </div>  
              <div class="card mb-2">
                    <div class="card-body">
                      Instruction Goes here
                    </div>
                </div>
                
            </div>
            <div class="col-md-6">
              <div>
                <h3>Room Map</h3>
              </div>
              
              <img id="my-image" src="assets/empty.webp" alt="W3Schools.com" width="50%">
            </div>
          </div>
      </div>
      
</body>
<script>
    $( function() {
      var availableTags = [
        "ROOM 101",
        "ROOM 102",
        "ROOM 103",
        "ROOM 104",
        "ROOM 105",
        // FIRST FLOOR
        "ROOM 201",
        "ROOM 202",
        "ROOM 203",
        "ROOM 204",
        "ROOM 205",
        // SECOND FLOOR
        "ROOM 301",
        "ROOM 302",
        "ROOM 303",
      ];

      insturtionInGoing = {
        "ROOM 101": ["Go to the first floor and turn left", "Go to the first floor and turn right", "The room is on the right side"],
        "ROOM 102": ["Go to the first floor and turn left", "Go to the first floor and turn right"],
        "ROOM 103": ["Go to the first floor and turn left", "Go to the first floor and turn right"],
      }
      // console log the selected value

      $( "#tags" ).autocomplete({
        source: availableTags
      });
      // console log the selected value
      $( "#tags" ).on( "autocompleteselect", function( event, ui ) {
            console.log(ui.item.value);
            $('#my-image').attr('src', 'room 406-B.jpg');
            // display room-instruct
            insturctions = insturtionInGoing[ui.item.value];
            // clear the div
            $('#room-instruct').empty();
            console.log("TEST: ",insturctions)
            insturctions.forEach(element => {
              $('#room-instruct').append(`<div class="card mb-2"> <div class="card-body"> ${element} </div> </div>`);
            });
        } );
      
    } );

    
    if ("serviceWorker" in navigator) {
  window.addEventListener("load", function() {
    navigator.serviceWorker
      .register("/serviceWorker.js")
      .then(res => console.log("service worker registered"))
      .catch(err => console.log("service worker not registered", err));
  });
}
    </script>
</html>